    <!-- Load jQuery. -->
    <script type="text/javascript" src="/lib/thesocialdigits-js/jquery.min.js"></script>
    
    <!-- JSON support for legacy browsers. -->
    <script type="text/javascript" src="/lib/thesocialdigits-js/json2.min.js"></script>
    
    <!-- The actual plugin for The Social Digits service. -->
    <script type="text/javascript" src="/lib/thesocialdigits-js/jquery.thesocialdigits.js"></script>
    
    <!-- Set global configuration of the plugin. Can be exported to an external
         JavaScript file since it is always the same. -->
    <script type="text/javascript">
      $.thesocialdigits({
        key: 'your_api_key', 
        
        datasource: function (products, callback) {
          var url = '/index.php/recommendations/list';
          var data = {
            'products': products.join(',')
          };
  
          $.getJSON(url, data, callback);
        }
      });
    </script>
  
  <!-- The list we want to display the popular products in. -->
  <ul id="products"></ul>
  
  <!-- The template to be used when rendering the products. 
       
       All variables in the template is denoted by {}, so the variable named var
       is denoted {var}. This template is applied to each product in the result
       from The Social Digits API method. Each key in the products 
       dictionary/object, given by the datasource function you have defined in
       the plugin source, is mapped to a variable name.
       
       Remember to set the type attribute to 'text/html' for templates.
   -->
  <script id="productsTemplate" type="text/html"> 
    <li>
      <a href="/product/{id}">
        <img src="/images/product/{id}.jpg" />
        {name} - {price},-
      </a>
    </li>
  </script>
  
  <!-- The actual use of the plugin. 
  
       This loads the three most popular products that costs less than 50 into
       the element having id 'products' using the template 'productsTemplate'.
   -->
  <script type="text/javascript">
    $('#products').thesocialdigits('popular', 
                                   {'limit': 3,
                                    'filter': 'price < 50'},
                                   '#productsTemplate');
  </script>
